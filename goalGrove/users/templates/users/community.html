<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>community</title>
    <link rel="stylesheet" href="{% static 'community/communitystyles.css' %}">
    <script src="{% static 'community/community.js' %}" defer></script>
</head>
<body>
    <div class="logo-container">
        <img src="{% static 'community/img/asset/Logo1 1.svg' %}" alt="Logo" class="logo">
    </div>
    <div class="sidebar" id="sidebar">
        <div class="menu-icon" onclick="toggleMenu()">
            <img src="{% static 'community/img/asset/menu1.svg' %}" alt="menu">
        </div>
        <ul class="menu-items">
            <li><a href="#"><span><div class="nickname">닉네임</div>
                <div class="email">이메일주소</div></span>
                <img src="{% static 'community/img/asset/Logout.svg' %}" alt="Logout Icon"></a></li>
            <li><a href="#"><img src="{% static 'community/img/asset/Vector.svg' %}" alt="Heart Icon"><span>메인</span></a></li>
            <li><a href="#"><img src="{% static 'community/img/asset/Vector-2.svg' %}" alt="Cart Icon"><span>목표 쇼핑</span></a></li>
            <li><a href="#"><img src="{% static 'community/img/asset/Vector-3.svg' %}" alt="Community Icon"><span>커뮤니티</span></a></li>
        </ul>
    </div>

    <div class="content">
        <div class="title"><h1>커뮤니티</h1></div>

        <div class="top">
            <div class="category-buttons">
                <button onclick="filterCategory('all')">전체</button>
                <button onclick="filterCategory('운동')">운동</button>
                <button onclick="filterCategory('식단')">식단</button>
                <button onclick="filterCategory('공부')">공부</button>
                <button onclick="filterCategory('취미')">취미</button>
                <button onclick="filterCategory('습관')">습관</button>
                <button onclick="filterCategory('자기계발')">자기계발</button>
                <button class="forGrove-btn" onclick="filterCategory('forGrove')">forGrove</button>
            </div>

            <button class="dropbtn_category">
              <div class="dropbtn_category_content">이루고 있는 목표</div>
              <img src="{% static 'community/img/dropdown.svg' %}" class="dropbtn_category_click dropbtn_category_icon" onclick="dropdownCategory()"/>
            </button>
        </div>

        <div id="goals-container">
            {% for goal in goals %}
            <div class="goal-card" data-username="{{ goal.username }}" data-title="{{ goal.title }}" data-type="{{ goal.category }}" data-image="{{ goal.image.url }}" data-frequency="{{ goal.frequency }}" data-description="{{ goal.description }}" data-challengecount="{{ goal.challenge_count }}" data-tupcount="{{ goal.tup_count }}" data-tdowncount="{{ goal.tdown_count }}">
                <div class="goal-header">
                    <div class="goal-left">
                        <div class="logo-background">
                            <img src="{% static 'community/img/asset/Logo2 1.svg' %}" alt="Title Logo" class="title-logo">
                        </div>
                        <div class="goal-title">
                            <div class="goal-nickname">{{ goal.username }}</div>
                            <a>{{ goal.title }}</a>
                        </div>
                    </div>

                    <div class="goal-right">
                        <a class="goal-type">{{ goal.category }}</a>
                        <img src="{% static 'community/img/asset/Basket_alt_3.svg' %}" alt="Cart Icon" class="cart-icon">
                    </div>
                </div>
                
                <hr class="goal-separator">
                
                <div class="goal-info">
                    <div class="goal-details">
                      <div class="firstline">
                        <div class="challengecount">{{ goal.challenge_count }}회차</div>
                        <div class="first-line">
                            <span class="highlight">{{ goal.frequency.split " " 0 }}</span>
                            <span>{{ goal.frequency.split " " 1 }}</span>
                        </div>
                      </div>
                        <div class="second-line">
                            <p>{{ goal.description }}</p>
                        </div>
                    </div>
                    
                    <div class="right-block">
                        <img src="{{ goal.image.url }}" alt="Goal Image" class="goal-image">
                        <div class="like-container">
                          <img src="{% static 'community/img/asset/Thumbs Up.svg' %}" alt="Thumbs Up" class="ThumbsUp">
                          <a class="TUpcount">{{ goal.tup_count }}</a>
                          <img src="{% static 'community/img/asset/Thumbs Down.svg' %}" alt="Thumbs Down" class="ThumbsDown">
                          <a class="TDowncount">{{ goal.tdown_count }}</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</body>
</html>
